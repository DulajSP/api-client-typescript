const Nash = require('@neon-exchange/api-client-typescript');

const client = new Nash.Client(Nash.EnvironmentConfiguration.local)

const apiKeys = {
  secret: "eyJjaGlsZF9rZXlzIjp7Im0vNDQnLzAnLzAnLzAvMCI6eyJhZGRyZXNzIjoiMk15VmRoUkFGb0dvQ21kV1BZRGt2QWtMZzNFNGh3dzQ1U0wiLCJjbGllbnRfc2VjcmV0X3NoYXJlIjoiNDkzMGQwOTg1ZGQxOGExMTU2YTJiOGY3ZDYyNDRiNWFjMWE4NWIzYzY3OGEyN2VhMGU4Y2ViNzgzNmQyYTI3ZCIsInB1YmxpY19rZXkiOiIwMzg5MzNkNjZiNzc4NTJhODcwY2U5YzVkOTMyMDQ4MTdiYTNmNDliMmQwN2M5MDU3ZGQxMDU0MTI5MzdiNzE2Y2YiLCJzZXJ2ZXJfc2VjcmV0X3NoYXJlX2VuY3J5cHRlZCI6IjJkY2IxODM5YTMxMzNkMzhhMjdjYjg4N2Y0YWMwZmJlZmY3YTNlNWZlZTY2ZGRjYjU4ZTZmZWM1NjYzNmYwZWY0MWY3YzEzMWVjMWI1M2FhMWY2OGIyYzZjOGQ5ZGFlMmZkY2RjNjk5NTE0OWFlNGRjNzQyZTM5ZDA2MWRjNDRhNmJlNTVkY2NkYWMzNTFiYTAwNGY5NjZhOTkzZmNhNDMwMjYxYjBhMjVjNzUxODQxMWMxMmFjMjk1OGQ4OTZkZDMwMTAyODEwNWMxOTFiODJiODRiNzdjYmYxZjI1NWQwZGNmY2ExNzIwMmY1Y2VhMWU1NmJhNmQ2ZWI3YjRhZWM4ZGZiYzJjOTcwMGY0ZTc4ZjM0NzM4ZTBlMmIzYzJkYjVjZDM1NTYyMWQ5MGY0OTM1ODg4MWVjZTcyNjk1ZGJlNWVkYmUwMGY2YzRkOThjMzRiY2RkZGMzYWUwY2QyMjNiYjUwNjA5ZDZiYzBiMjQ3ODEyYjkwMzFlNWQ1OTk2YTdkODg0MTJkMGJjNzk5MzUwYTMyYjVhNjk5ZGRhMjZhOTYxOTExNjRiYjJjNDJhYjRlOTAwMTU5N2E1YTY5MmNlMjYzMDg2MzMxOGI5ZTdkYTY4YjZhMDExYjMyZTRkYjEwNDA2ZTI0YTQ1MTc1NzcyMjU4MzlhNGM0NDJjM2YxZmM5YTY1N2RjZmY2MWE4ZDljM2E5NDAxNDdlYjVlZmU2NGQxZjI5YzMwODZkOWJmYTE1ZDk5ZjgzYjFlNmYzZTBhZGQ5YjgzMjRjN2M4YjZlM2M3OWRiMGM2MzhkNTRjMTMzNWI5YTliZmZmZTJlYTkyZThiNjFkNTI1NmRiMzA2ZGViMjM4NGEwMDcwMTYwNWE1YzZhMDc0N2Q3MjM0MTQ3NTcwMzk0ZTAxOGVjODAxOTFjNTU4MTMyMjAxZWIwMTdmZmY2ZTE0Mzk0MGU0OTllNjIwNDIyOTU2MTZjZDc3YTZjNjBiNzMyMmQ0NTU2Yzk0N2Y4YTkwZjIzMGI5OTQzMTY4OGI3NzNmYTc5ODdiODY3NjFiZGFiMWU5NjRlZWY4OGQ1ZjdkOWRkNTZkNDczMDAxNzQzODQzODZiZGE2NTFiOWQ1ODIwODIzOWJiOTIzYjcxZGQ5MWQwZTRiNzFhNWE4NjUxY2FkMTllY2JhMmM1YjdlYzY0MDYyOTc3YTRmZDk5OTJiOWQ2MDRiNTdkOTg1NGE0MDE4MTFiYmEwNTgxNWQ4M2YyYjAxZWNiOWI2OGI1N2FhYjZlYmIzNjIxMGY0ZDQxMDIyMjQ0YmE4ZWZmY2ViZDVjYzBjNTFiMGU1Y2JlNDhmMjEyYThjNWE0MWQ4OTBmZTQ3MWEwMzkifSwibS80NCcvNjAnLzAnLzAvMCI6eyJhZGRyZXNzIjoiNGIyNDYxYmIwZTFiNzQxNjM5NjY3YzQ2OWE3MTFlMzkyNWE1YjQ5YiIsImNsaWVudF9zZWNyZXRfc2hhcmUiOiI4ODFlZTdmZTJmYWQwMjJjNjMwMzY5MGQ5ZGE1NzU0MWUzM2E3MGEyNGViMjdkZDcyMjI3ZWZlOWI2N2QzYzBmIiwicHVibGljX2tleSI6IjA0YzgyN2QxNDJlZTY2OWVmYWQyNTlhMTkwMGYxNTI2MTUyZjJhMDEyNGYxNWQ4Yzk3MDM1MDNiMWZjZWVjMWY3MWUzYzZlY2I1YTNmOTQwMTU2ZWY1NjM1N2M0ZDFhYWYzYzVkNTFlNDI4NjQ1MzE1MDI2OTBkODhlMDRlYjAwYjciLCJzZXJ2ZXJfc2VjcmV0X3NoYXJlX2VuY3J5cHRlZCI6IjM2ZDg4MmNjNjEwYjJiMWZmOTMxZjUxMmY0ODQ2ZDZjMmY1YTYzYmUwZjAyNzJjNGY1Mzk1ODc0YTM3NjMyOWJlYjlkZGJmNzZjNTcxNzYwZTQzOWU5MzFmMTM2ZTQzNDIxYmUwZDBiNTRlNTg0NjEyMGEyZTE3ZWE5YmUyMDczZmVlYmRlNTY3MDNmMmI1YWY2MDY4ZDhjNWVmMTRjMDJkYWU1YWIzZTU3MWY4YTc5NGJhMjE4YTVjZGM4N2Q3NTdlMGIzNTcyMmQ4NDIyM2I4MzIyNDE1N2U3YjhhNmNiZTRlZDc1OGVhNDU1ODNkZWNiMjE3OTA3ZDY2NjkzYmNiYmEzM2U2NTdjMDNjMzY2OTBjYjIyNzM4ZDY1MDNkYTdjMGJlNmIxZWRmNDBjZjA2MTBmNDU1OWIyZTQ3NTVmNTM3ZjEyNGJiODcxYjk0YWY4MjlhOWI1MDc5NDhlYTZjZDA5MjM5ZTA5YmIxMTc3Mzg0NjFiZjE3NzY2OGRhOGYxNGQ4NzM5MGI5ZTQ5MTI1M2IxYThiYTAwNzQ2YmI1NTQ2N2MxMWM2OTY4YTYxOTA4ZjkwMGUwZTIyNGVlYjk5ZmMyMTM1NjBjZDI0MTIzN2VmMDhlYWIyNGZkOWUyZmVjYTIwODZiOTJkNDUzYmQwZDE3Zjk4NjljNjNiYTYwZmEzZGMxZGJjNDFmNzFkNjRlZGE3Yzk0NzRiMjc5MDczMjY0MGNiODZjMTIyZWFiMjY1YjIxMzU3YTljNWQ4NGY2MWZkOWI3NTgxMzMxZDgyYTgwOWQ2ZmJkMDg3NWFiOGE4MmQ2ZWEzYmEyMzZlNTg0Mzc1ZGM0ZDk0YjVlOWY0ZGNlODE2MGNjYjM0NTlhODlmODc4NDExNDFmYzYwZmMwYzc2NDdiYTQ5MDNmMDA1OThiNTg3ODNiYTA2MGM2ZGE0YTc4OGVjZjExODgyYWQ2MTQ2ZjgyNDYxZWQ0ZmNkMWM2YzM0NTg1OTVlNWVlMDkwMGVjNzM5NDdkMjE0NmNkODk5OGQwNGRjMGE0M2QxZWFkYjUwYjRjOWVkOTVlYWYyOTA3MjJmOGI3NjYxZTZlYjg4MzQxNzFlZjRlOTU1ODQ5ZWI0YjUwY2ExNzZkZGE5ZWNlOGM3OGZmOGVjMGI1YWYwNmQzOTRhMzUzODc3ODE4NjNjZWYwNjIyMzVlOGUxY2QzZDljYzRiODA2NjdkNDNkOTQxNzc5YTlmZDQ2ZGE5OTFiMmM2MmQ2NWRkNDE5NzI3MDQ1NjM3YmI5Nzg3Yzc4YjVkMTAyZjUyYWVkNmJhNTJiZTI1YWVjNWVkNjM4NjBlOTBmM2JlOTVmN2M1NGI1MTFjNGFlMDAwNDYifSwibS80NCcvODg4Jy8wJy8wLzAiOnsiYWRkcmVzcyI6IkFWMnA3cG5DU1N3WDVpTXBUcGY4MkZkMW1OZ1VnTndMU2giLCJjbGllbnRfc2VjcmV0X3NoYXJlIjoiOWVjYTIxMGM4ODg4NzU2MTk0ZjRmMmIwOGUwY2MyNWRlOTFlNDRiODgyMTEwMmQ2YzRiNGY0MGQ3ZTVhZmYyZCIsInB1YmxpY19rZXkiOiIwMjIzNTNhODU4MzU4OTVhNGI3OWVlMGIyYmExY2JhOTM0ZTExYzU2N2Q0YzQ0ZWU1N2M5ZGI3MDZjODMxNDYzYzIiLCJzZXJ2ZXJfc2VjcmV0X3NoYXJlX2VuY3J5cHRlZCI6IjIwMTMzOWU4ZDNmNDhiMjA1MWM1ZTE4YTBjNzIyMDUzMzJkMTdjYzk1NTQ1MzI5OTJkYzY4NzViYzI3NGE5MTg5ZDRkMTEwMTRlN2VhMjU1NThlYTBkZDQyNzBjNTdlYTI5NTc2NWNlNWJlYWI0YjkyZTZjZDkwNDcxM2U0MGY0ZWVjZjNhMTc1MmIwNmY5ZDkwYWJkNjlhY2IzNWMwN2Y2NzMzZmViZGJlYTQ1MDJhM2M3OGM5MTZmMjQ2OTI5NzdjYzFjZTdmYmE5ZjljMjdlNWM0ZjUyNTcwYjZjNjVkOWRiYjY1MzllYTJhOWY2MzRiMGJhNGRjMzU5MTczNjNmN2Y3YzdmMWY4MjNhNzA2OTBkMzFmOTQ4Yjk5MzBmMzY4Y2U1Y2U3ZjM3NWNjMWU1YzFiYTY5MjMzMzgxZDhjOWI3YjVmZmIxYjE0Mzc4YWNhMGMwOTIxZDJiZWIwYWZmM2ZmMGU1OTZhNmMzY2YzY2I0ZTE5YTRkODNjMmUyMDFkZjA1MTc2YzVmZWU4NmQ5ZDNkMDkzOWUzM2NmNTY5ZTIwNDU2ZmMyMDllMDdmMjU2YWFjNDI5YzkxYTcyYzY1YjMyMzMxODZhNDJjNmM4YTQxYWJkNDA4MmI1Mjc4Yjk1ZmQ5ZmQxOTAwN2I3YWNhZGIxNGZjODdmMzBmNDAzNmE0NDQ0NGQxMzUzOTQwYzk2NDRlNzYwMzcxYWYzNjBlMzM5Y2E3MzllOTUwYjRhZjFkOTg3NmQ4ZjBjNDAzODNkZWViMmJhNWYwMmFlZTQ0OTBjODk0M2FhZjEyMTUyMmE0MTgzMDI5MmU5MmVmYTFmYjI0ZDgzMzkxYjFkOTJjNDgwMTJlYzI0MDFlMmEwZTM0Zjk2MzIwMGIxMjdkODI1MThlNDhhNTZiYzM3OWE1NjgxYTgxYWYyNjljMjQ4MTFhMWIyMGRmNDJlZDVhM2FlZDExMWFiY2Q3NWE1NzFiOGNmZGNlNGVmM2I3OGQ4YmM4NTZkZmU2ZTBhODk0MzNmZjIxZGFlN2IyYTc0NjRjYWRjZTI4NDk0NTY0NGY1ZTc1MzFiNmU4N2Q2Nzk3Mjc2NWM3ZGNjOGNiZGZhMjk1ZGVjZDM4ZTQzNjg0NDUwNzVjMzRmMjc1YTE4MTAzMzQxYzM5MGZkYzA4NDEyOTkyMTdiMGI5N2MxZmRiNDM3MjI1MTM4NDY2ZWFlNWU0NzE5MzU2YmExODYwMGE1NGYzMTQxN2VmMDYyODUyZmJjZTExYjkzYTgwYmU1MjFjZGMwZjM1MGQ0ZmNhNWIyMGQ3M2ExM2NlZjk4ZmFiZDdhMzBlMzEyMWFlZjM2ZWQ2N2RmNzQxYjFiZmE3MTljYjIifSwibS80NCcvOTAwMCcvMCcvMC8wIjp7ImFkZHJlc3MiOiI4MjgxYjNkODZhZmRiYjRmMTA1ZTFlNjc1NzcyNzhhMjE0YWExMjQzIiwiY2xpZW50X3NlY3JldF9zaGFyZSI6ImI4NzI4MGIyZDJhOWM2MTM5OWI0YmJkZDY5Y2RkMWMwZmQ2MzQyOWUwMjU1OTRmYWQ1YWI2MWQ0MmNlZTJmMjciLCJwdWJsaWNfa2V5IjoiMDRmNWQzYWNmYTVjNzE3ZTgzMDg0ZjA4ZGM1MzlmYjYwNzQ0YWY4ZTMwYmUzNWE2MWYzMTI4ZTQxNzdhOTg1ZmQzZDk0OWNmNDEyMjAyZjBiMmUyMDA0Y2FmNTE5OGM1MzFjMTc3Njg3MTZiMGIwZDc4NmE2NGQ1NTI5MmViYWVlMSIsInNlcnZlcl9zZWNyZXRfc2hhcmVfZW5jcnlwdGVkIjoiMmRmNjAxMjI5YzQ4NzkyNjRjM2I0MDE5NzliYzdmOWE2NmM4NzRmODViZTQ1NmE4MWMyMzAxMTdkODIyMmMxYTBmMDU3MDk0OWY2ODYwMTFjYTc1ODRlNDI0ZjIyY2M4YTdlMmQwZTVhZTNmZGEzMTkxZjFjMTYyMGU2M2E4YjE5ZmQxMWEzZGEwYzc3NWI4MjVmZThjZDQ0ZmJhNTk4OWMxNzI2Njg0ZWM1ODRjNzZiNDc1M2Q1MjljYmI4NWQyNmRhZWQ2MTMxMmY5NmYwMDk3NWI4MzVjZjExODZhNmZhZGNmZWRkYjI4ZjBkZDA4NDYzMWRiYmExZWE4YWRkODE5MGM5M2JlNzYwZTdhODFmNGM5Yzc1Nzg1NDhkNDZjYWJjYTUzODNkMWRkOTUyZWYwYjAyMDM0MTk5ZGM1ZDkyOWZmNzdhNWVkM2Y5MGM3OWQ0OThjOTI0ZDJhMWIyMTdhZmQ5ZTgzMjg4Y2VmMThlYjQxZTlhOWI1ZjdiNGJkM2ZmZDIzM2UyM2RiN2U2Yzg1ZTVkMGYyMTBiMzkxNjFkMGFhNTYwYzUyYzFmY2U2N2EzMzc2ZDBkNTQ3MDMyYmZhMzAyZTg2MzQyMjRlZTViNjk0MzgwNmU3YTlmYWUwYmQ5YTc2MzJjMWRhNWVjMmU4ZmM4MTBmYWIyMmRhZGZjYzkwNzkwMWYwZTRiZjQzZGE4NzFhYTEzZGUxZmFiZjhkOTAyZjg0MWEzMTFhYWEyNzY0NjVkOTUwMDNiZTAxMGI1YjI5YTNkZmY5ZDZmZmQzNjcwNmI4Y2Y4NzZjOTRlMDFhODk5NjliNjQ3ZDZiMTM5MWMyYWMwZjQxODM3YzI2NjE0YmNmMGI4ZmExZDA5ZTUxYTM3MGU2MDY1NzQzMDkxMDg3ZGI2NTJmOTU2ZmYzM2UxYjgxOWEyYzA0MWQ5NTcwODQ2MTc5ZjA0MWUxMDgyYTczOGY1OGE1MjQ4YzIwMDRhOGUxYjViYTUxY2MxMTVmNjhiNmMxY2UwZDYxNjUwYmYwOGQyODUxMjQ0Njg3N2U3MTE2NTQxY2RjMmYwOWRlNWU3NTQyMDEwNzYzNTA3OWZlYTMzYTI4MDNmMTA1NTI2ZGQ5Y2RmYzNhMGFhNGQ0Mzg5MmY1Yjc3Zjg4YjljZjA1YjhjNmY1MDUyZWMzYjNlNmEyMTgzNDAwOWNmOGNiMTQ2MDA5MjIyYWU1MmRkZWM5MTAzOTkxYzBjYWJiMjA3OWY5OWQ0NzQ3OGMzNDA0ZTI4NGQ5NDMxMWEyM2RhYjA1YmZiNGVmODk5NmM0N2NlMTJmMDg3NDZjMGYxZWFmNTE3NzM0ZWQ4NjFjNTY4OWNiZmE3ZjMyMWQxZCJ9fSwicGFpbGxpZXJfcGsiOnsibiI6IjgyMzY1Nzg4NmFmNGI1YThhZDVlMjkxNmI3NGZkNDg2YzY2M2E2MzFhZjFjY2EzYmMzZjEyZGIxZWVlNzgzYzZjZWJjYTYzZmRjZTJmOWM5NDcwZmZiZDJlOGQ3MTVkMDc0YWQ2OWM0MjExNjg2MDI5YWY3ZDM3YjIwMjc4OGQyNTZiNmNiMGE4MmZhOWZlYjQ5Y2ZhMWQ5ZWE5YmRmY2NiNmRkZWFkNTFhMDc3NmFkZWM3MDEwZjQzOTYyYmJmOWQ3YjUxZWE3NjdlNTYyYjkwNzBjNDE2ZTkzNTU1MTBiZGQ0NDQxOGM0OWIyMWU2OGY2OWJkNzliZGZhNTUxNmZjNGI5MzA5NjQxM2FiZTNkMzBmYTgxMzU3ZTY0NDEyZTA0YTU0MzIyYzcyNjUwOGViOTI5ODJmMWEwYTUxOTZhYWExNmI2OTc1MjgwMDQ0YWNjZDliNzZmODI0MGVkMTdlMGQ1YmU0N2M1Y2YyYTEzNzQ0ZDlmNDEzNmRhMGJmYzhlZmRmNmY4NTQxODNhMWNhNjZmMjZmOTdiYjU4MjM3ZmFkNDUxMjYxNWNlZDNjMGIxOTVlODUzZjQ3Mjk0M2Q3YWMyYWIxYzE3Y2E0MWIzNTJmZTRhM2NiMGExNGVkZWQ2NGJmYjEwZTkxMjRhZTc3ZGI2MjMwODZmYmQ1ZDZkIn0sInBheWxvYWRfcHVibGljX2tleSI6IjAyNTI3NzA1MWU0ZGRkMDM1NjNjZmU2YzkyYjkzODViMTRiMDQzZmNhZGE1YmViZWQ0ZWUxNTQxZDFjZjE2MjUwZiIsInBheWxvYWRfc2lnbmluZ19rZXkiOiI2ODgyM2UxYzBmMGU1ODUyZDNhNzk0NjYyOWMwYWU2Yjk0M2Q2YzI4YTlkNjEyMGU4ZDk2MWU4ZTk5YTRiMTVkIiwidmVyc2lvbiI6MH0=",
  apiKey: "34adcda7-0735-4d54-94fc-e4f77ea3e7c1"
}

const runAuthenticated = async () => {
  try {
    await client.login(apiKeys)
  } catch (e) {
    console.log(e);
  }
}

const run = async () => {
  await runAuthenticated();
  await doTradeEthUsdc()
}

const doTradeEthUsdc = async() => {

  let price = 400
  try {
    const amount = {amount:"0.05", currency:"eth"}
    const result = await client.placeLimitOrder(
      false, 
      amount, 
      Nash.OrderBuyOrSell.SELL, 
      Nash.OrderCancellationPolicy.GOOD_TIL_CANCELLED,
      {amount:price.toString(), currencyA: Nash.CryptoCurrency.USDC, currencyB: Nash.CryptoCurrency.ETH},
      "eth_usdc")
    console.log("RESULT: ", result, price.toString())  
  } catch(e) {
    console.log("error: ", e)
  }
}


run();
